jQuery(document).ready(function(l){"use strict";var e,n,i,t=eggsAtts,s=t.search,o=".top-articles p, .milestone p, .movement p, .section p",r=o.replaceAll(" p"," p > span")+", .top-articles p > strong > span, .milestone p > strong > span",u=l(".easter-egg-container"),a=t.highlight_index.split("|").map(function(e){return parseInt(e,10)-1}),g=t.index_list.split("|").map(function(e){return parseInt(e,10)-1}),h=new RegExp("("+s+")([\\sâ€™])","ig");function p(e,t){var n=l(e),i=u.find(".easter-egg-content"),s=l(i.slice(t,t+1));if(i.hide(),s.show(),0<s.text().length){var o=n.offset().top,r=u.outerHeight(),a=u.outerWidth(),g=r<window.innerHeight-(o-l(window).scrollTop()),h=g?o:o-r,p=n.offset().left,c=g?1.5*n.height():.5*-n.height(),f=a>window.innerWidth-p?window.innerWidth-a-10-p:0;u.css("top",h+"px").css("left",p+"px").css("transform","translate("+f+"px,"+c+"px)").fadeIn()}}function c(){0===l(".easter-egg-container:hover").length&&u.hide()}l(o).each(function(){-1<l(this).text().indexOf(s)&&l(this).html(l(this).html().replace(h,"<span>$1</span>$2"))}),e=l(r),n=e.filter(function(e){return-1<a.indexOf(e)}),i=e.filter(function(e){return-1<g.indexOf(e)}),n.addClass("easter-egg egg-highlight"),n.mouseover(function(e){i.addClass("easter-egg"),n.off("mouseover");var t=l(".easter-egg");p(e.target,t.index(this)),t.mouseover(function(e){p(e.target,t.index(this))}),t.mouseleave(function(){setTimeout(c,200)}),u.mouseleave(function(){u.hide()})})});