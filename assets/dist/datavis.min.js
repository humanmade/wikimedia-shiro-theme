jQuery(document).ready(function(o){"use strict";o(".d3-chart").each(function(){!function(r){for(var t=o("#"+r),n=30,l=60,u=60,p=60,m=t.width()-p-l,f=300-n-u,v=t.data("stroke-color"),y=d3.bisector(function(t){return t.date}).left,a=t.data("chart-raw"),e=a.length-1;0<=e;e--)a[e].date=d3.timeParse("%Y-%m")(a[e].date);!function(o){if(o){var t=d3.select("#"+r).append("svg").attr("width",m+p+l).attr("height",f+n+u).append("g").attr("transform","translate("+p+","+n+")"),d=d3.scaleTime().domain(d3.extent(o,function(t){return t.date})).range([0,m]),a=d3.axisBottom(d).ticks(d3.timeMonth,1).tickFormat(d3.timeFormat("%B")),s=d3.scaleLinear().domain([0,d3.max(o,function(t){return t.value})]).range([f,0]),e=d3.axisLeft(s).ticks(4).tickFormat(d3.format(".2s")).tickSize(-1*m);t.append("g").attr("transform","translate(0,"+f+")").call(a),t.append("g").attr("class","yAxis").call(e).call(function(t){t.select(".domain").remove()}),t.append("path").datum(o).attr("fill","none").attr("stroke-width",1.5).attr("stroke","black").attr("class","line "+v).attr("d",d3.line().x(function(t){return d(t.date)}).y(function(t){return s(t.value)})),t.selectAll("dot").data(o).enter().append("circle").attr("r",1).attr("cx",function(t){return d(t.date)}).attr("cy",function(t){return s(t.value)}).attr("class","circle "+v);var i=t.append("g").append("circle").attr("r",4).attr("class","circle "+v).style("display","none"),c=t.append("g").attr("class","focus").style("display","none");c.append("rect").attr("class","tooltip").attr("width",100).attr("height",50).attr("x",10).attr("y",-22).attr("rx",4).attr("ry",4),c.append("text").attr("class","tooltip-date").attr("x",18).attr("y",-2),c.append("text").attr("class","tooltip-value").attr("x",18).attr("y",18),t.append("rect").attr("class","overlay").attr("width",m).attr("height",f).on("mouseover",function(){c.style("display",null),i.style("display",null)}).on("mouseout",function(){c.style("display","none"),i.style("display","none")}).on("mousemove",function(){var t=d.invert(d3.mouse(this)[0]),a=y(o,t,1),e=o[a-1],r=o[a],n=t-e.date>r.date-t?r:e,l=o[o.length-1].value;void 0===o[a+1]&&n.value===l?c.attr("transform","translate("+(d(n.date)-120)+","+s(n.value)+")"):c.attr("transform","translate("+d(n.date)+","+s(n.value)+")");i.attr("transform","translate("+d(n.date)+","+s(n.value)+")"),c.select(".tooltip-date").text(d3.timeFormat("%B")(n.date)),c.select(".tooltip-value").text(d3.format(",")(n.value))})}}(a)}(this.id)})});
//# sourceMappingURL=maps/datavis.min.js.map
