jQuery(document).ready(function(o){"use strict";o(".d3-chart").each(function(){!function(r){for(var t=o("#"+r),n=30,d=60,u=60,p=60,m=t.width()-p-d,f=300-n-u,y=t.data("stroke-color"),h=d3.bisector(function(t){return t.date}).left,v="month"===t.data("time-format")?d3.timeFormat("%B"):d3.timeFormat("%b %d, %Y"),a=d3.timeParse("%Y-%m-%d"),e=t.data("chart-raw"),l=e.length-1;0<=l;l--)e[l].date=a(e[l].date);!function(l){if(l){var t=d3.select("#"+r).append("svg").attr("width",m+p+d).attr("height",f+n+u).append("g").attr("transform","translate("+p+","+n+")"),o=d3.scaleTime().domain(d3.extent(l,function(t){return t.date})).range([0,m]),a=d3.axisBottom(o).ticks(d3.timeMonth,1).tickFormat(d3.timeFormat("%B")),i=d3.scaleLinear().domain([0,d3.max(l,function(t){return t.value})]).range([f,0]),e=d3.axisLeft(i).ticks(4).tickFormat(d3.format(".2s")).tickSize(-1*m);t.append("g").attr("transform","translate(0,"+f+")").call(a),t.append("g").attr("class","yAxis").call(e).call(function(t){t.select(".domain").remove()}),t.append("path").datum(l).attr("fill","none").attr("stroke-width",1.5).attr("stroke","black").attr("class","line "+y).attr("d",d3.line().x(function(t){return o(t.date)}).y(function(t){return i(t.value)})),t.selectAll("dot").data(l).enter().append("circle").attr("r",1).attr("cx",function(t){return o(t.date)}).attr("cy",function(t){return i(t.value)}).attr("class","circle "+y);var s=t.append("g").append("circle").attr("r",4).attr("class","circle "+y).style("display","none"),c=t.append("g").attr("class","focus").style("display","none");c.append("rect").attr("class","tooltip").attr("width",100).attr("height",50).attr("x",10).attr("y",-22).attr("rx",4).attr("ry",4),c.append("text").attr("class","tooltip-date").attr("x",18).attr("y",-2),c.append("text").attr("class","tooltip-value").attr("x",18).attr("y",18),t.append("rect").attr("class","overlay").attr("width",m).attr("height",f).on("mouseover",function(){c.style("display",null),s.style("display",null)}).on("mouseout",function(){c.style("display","none"),s.style("display","none")}).on("mousemove",function(){var t=o.invert(d3.mouse(this)[0]),a=h(l,t,1),e=l[a-1],r=l[a],n=t-e.date>r.date-t?r:e,d=l[l.length-1].date;o(n.date)+118>o(d)?c.attr("transform","translate("+(o(n.date)-118)+","+i(n.value)+")"):c.attr("transform","translate("+o(n.date)+","+i(n.value)+")");s.attr("transform","translate("+o(n.date)+","+i(n.value)+")"),c.select(".tooltip-date").text(v(n.date)),c.select(".tooltip-value").text(d3.format(",")(n.value))})}}(e)}(this.id)})});
//# sourceMappingURL=maps/datavis.min.js.map
