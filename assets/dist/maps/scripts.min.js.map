{"version":3,"sources":["scripts.min.js"],"names":["debounce","func","wait","immediate","timeout","context","this","args","arguments","callNow","clearTimeout","setTimeout","apply","page","document","getElementById","modalClassName","modal","querySelector","closeButton","cookieName","dataset","cookie","match","className","focus","setAttribute","addEventListener","expiration","expires","date","Date","setTime","getTime","toUTCString","setCookie","jQuery","ready","$","toggleLanguages","state","$list","$button","attr","i","toggle","toggleClass","window","width","css","position","left","outerWidth","MicroModal","init","keyup","e","key","click","is","removeClass","hide","show","event","stopPropagation","hasClass","on","scrollTop","matchMedia","matches","length","target","close","visions","currentVision","cycleVision","prevVision","fadeOut","fadeIn","hoverAddClass","container","parent","elem","hover","closest","addClass","svg4everybody","headings","headingHeights","each","index","value","push","clientHeight","maxHeight","reduce","a","b","Math","max","height","blockquote","wrap","t","title","c","createElement","p","encodeURI","appendChild","createTextNode","append","remove","preventDefault","animate","offset","top","diffHeight","contentHeight","amountToReduce","contentBottom","outerHeight","ungridTop","eyebrow","mobileToggle","reportNav","updateToggleHeight","heightItemSelector","classList","contains","heightItem","clientRect","getBoundingClientRect","floor","checkHeadingPosition","scrollPosition","heading","getPosition","$link","resetHeadings","markActive","Heading","$el","$toc","$links","last","find","Stickyfill","$heading","scroll","prototype","fn","fitVids","options","settings","customSelector","ignore","extend","selectors","ignoreList","$allVideos","join","not","$this","parents","tagName","toLowerCase","isNaN","aspectRatio","parseInt","videoName","_count","removeAttr","selectedFilter","order","val","orderby","data","s","post_type","map","get","formData","urlData","url","location","baseurl","protocol","host","params","decodeURIComponent","param","history","pushState","updateUri","action","opacity","ajax","type","shiro","ajax_url","success","result","resultData","posts_html","empty","pagination","error","doSearch"],"mappings":"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","file":"../scripts.min.js","sourcesContent":["(function () {\n\t'use strict';\n\n\tvar page = document.getElementById( 'page' ),\n\t\tmodalClassName = 'blackout-modal',\n\t\tmodal = document.querySelector( '.blackout-modal' ),\n\t\tcloseButton = document.querySelector( '.close-blackout-modal' ),\n\t\tcookieName = modal ? modal.dataset.cookie : null;\n\n\t/**\n\t * Set the cookie using the expiration passed in.\n\t *\n\t * @param {number} expiration Expiration in milliseconds.\n\t * @return {void}\n\t*/\n\tfunction setCookie( expiration ) {\n\t\tvar expires,\n\t\t\tdate = new Date();\n\n\t\t// eslint-disable-next-line  no-magic-numbers\n\t\tdate.setTime( date.getTime() + ( expiration || 30 * 24 * 60 * 60 * 1000 ) ); // Defaults to 30 days expiration. 30 days, 24 hours, 60 minutes, 60 seconds, 1000 for milliseconds.\n\n\t\texpires = ';expires=' + date.toUTCString();\n\n\t\t// Set cookie.\n\t\tdocument.cookie = cookieName + '=true;path=/' + expires;\n\t}\n\n\t/**\n\t * Close the modal.\n\t *\n\t * @returns {void}\n\t*/\n\tfunction closeModal() {\n\t\t// Reset classname.\n\t\tmodal.className = modalClassName;\n\n\t\t// Set aria-hidden attribute as false.\n\t\tpage.setAttribute('aria-hidden', false);\n\t}\n\n\t/**\n\t * Displays the modal by adding the `opened` className.\n\t *\n\t * @returns {void}\n\t */\n\tfunction displayModal() {\n\t\tmodal.className = modalClassName + ' opened';\n\t\t// Set the focus on the close button.\n\t\tcloseButton.focus();\n\n\t\t// Set aria-hidden attribute as true.\n\t\tpage.setAttribute('aria-hidden', true);\n\t}\n\n\tif ( modal ) {\n\t\t// If the cookie is not set and the element is present, add event listener to display the modal.\n\t\tif ( ! document.cookie.match( '(^|[^;]+)\\\\s*' + cookieName + '\\\\s*=\\\\s*([^;]+)' ) ) {\n\t\t\tdisplayModal();\n\t\t}\n\n\t\tcloseButton.addEventListener( 'click', function () {\n\t\t\tsetCookie();\n\t\t\tcloseModal();\n\t\t} );\n\t}\n} )();\n\n/**\n * Generic site JavaScript.\n */\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\nfunction debounce(func, wait, immediate) {\n  var timeout;\n  return function() {\n    var context = this, args = arguments;\n    var later = function() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n};\n\n\n/**\n *\n * Header JS\n *\n */\n\njQuery(document).ready(function($) {\n  MicroModal.init();\n\n  function toggleNav() {\n  \t$('body').toggleClass('primary-nav-open');\n    $('.header-inner').toggleClass('nav-open');\n    // Make sure the menu is always at the top when opened\n    $('.primary-nav__drawer').scrollTop(0);\n\n    $('.mobile-nav-toggle .icon-close').toggle();\n    $('.mobile-nav-toggle .icon-menu').toggle();\n    $('.mobile-cover').toggle();\n\n    $('.logo-container_sm .icon-logo-horizontal').toggleClass('fade-20');\n    $('.language-dropdown').toggleClass('fade-20');\n  }\n\n  function closeNav() {\n    $('body').toggleClass('primary-nav-open');\n    $('.header-inner').removeClass('nav-open');\n\n    $('.mobile-nav-toggle .icon-close').hide();\n    $('.mobile-nav-toggle .icon-menu').show();\n    $('.mobile-cover').hide();\n\n    $('.logo-container_sm .icon-logo-horizontal').removeClass('fade-20');\n    $('.language-dropdown').removeClass('fade-20');\n  }\n\n  $(document).keyup(function(e) {\n     if (e.key === \"Escape\") {\n        toggleLanguages(false);\n    }\n  });\n\n  function toggleLanguages(state) {\n    $list = $('.language-list');\n    $button = $('.language-dropdown button');\n\n    $button.attr('aria-expanded', function(i,attr) {\n      return attr === 'true' ? 'false' : 'true';\n    } );\n    $list.toggle(state);\n    $('.mobile-cover').toggle(state);\n\n    $('.logo-container_sm .icon-logo-horizontal').toggleClass('fade-20', state);\n    $('.mobile-nav-toggle').toggleClass('fade-20', state);\n    $('#menu-header-menu').toggleClass('fade-20', state);\n    $('.logo-container_lg').toggleClass('fade-20', state);\n\n    // Position the dropdown right-aligned to the button\n    if ($(window).width() > 762) {\n      $list.css('left',\n        $('.language-dropdown').position().left +\n        $('.language-dropdown').outerWidth() -\n        $list.outerWidth()\n      );\n    }\n  }\n\n  $(window).click(function() {\n    if ($('.language-list').is(':visible')) {\n      toggleLanguages(false);\n    }\n  });\n\n  $('.mobile-cover').click(function () {\n    closeNav(false);\n    toggleLanguages(false);\n    $(this).hide();\n  })\n\n  $('.language-list').click(function(event){\n    event.stopPropagation();\n  });\n\n  $('.language-dropdown').click(function () {\n    if ($(this).hasClass('fade-20')) return;\n    toggleLanguages();\n    event.stopPropagation();\n  })\n\n\n  $('.mobile-nav-toggle').on('click', function() {\n    if ($(this).hasClass('fade-20')) return;\n    toggleNav();\n  });\n\n\n  // On resize, remove any open nav classes if desktop size, otheriwise, blue overlay behind nav will still be there.\n  $(window).on('resize', function() {\n\n    if (window.matchMedia(\"(min-width: 1050px)\").matches) {\n      if ($('.nav-open').length) {\n        $('.nav-links').removeClass('open');\n        $('.header-inner').removeClass('nav-open');\n      }\n    }\n  });\n\n // Hide search bar container if mouse is clicked outside of search div or search toggle and search div is open\n  $('.search-overlay').on('click', function(e) {\n    if ($(e.target).hasClass('is-open')) {\n      MicroModal.close('search-modal');\n    }\n  });\n\n $('button.search-close-esc, button.search-close-mobile').on('click', function() {\n   MicroModal.close('search-modal');\n });\n\n\n  // Cycle the visions\n  var visions = $('.vision');\n  var currentVision = 0;\n\n  function cycleVision() {\n    var prevVision = currentVision;\n    if ( currentVision === (visions.length-1) ) {\n      currentVision = 0;\n    } else {\n      currentVision += 1;\n    }\n    $(visions[prevVision]).fadeOut(750, function () {\n      $(visions[currentVision]).fadeIn(750);\n    });\n\n    window.setTimeout( cycleVision, 5000);\n  }\n  if (visions.length > 1) {\n    window.setTimeout( cycleVision, 5000);\n  }\n\n });\n\njQuery(document).ready(function($) {\n\n  // Hover on an element, and add class to closest parent.\n  function hoverAddClass(container, parent, elem, className) {\n    $(container + ' ' + elem).hover(\n      function () {\n        $(this).closest(parent).addClass(className);\n      },\n      function () {\n        $(this).closest(parent).removeClass(className);\n      }\n    );\n  }\n\n  // News category list, give li item a bottom border turquoise.\n  hoverAddClass('.news-categories', 'li', 'a', 'border-turquoise');\n\n  // Related News, take down the opacity of the darkening gradient.\n  hoverAddClass('.related-news', '.bg-img', '.card-heading', 'headline-hover');\n\n  // Translation bar, add underline to li\n  hoverAddClass('.translation-bar', 'li', 'a', 'hover-underline');\n\n  // Darken news images when headline is hovered\n  hoverAddClass('.cta-news', '.card', '.h2 a', 'darken-img');\n  hoverAddClass('.card-list-container', '.card', '.h3 a', 'darken-img');\n\n});\n\nsvg4everybody();\n\n/**\n *\n * Main site JS\n *\n */\njQuery(document).ready(function($) {\n\n  // Related News module.  Keep h3 headings the same height so the images stay the same height as well.\n  var headings = $('.related-news h3'),\n    headingHeights = [];\n\n  headings.each(function(index, value){\n    headingHeights.push(value.clientHeight);\n  });\n\n  var maxHeight = headingHeights.reduce(function(a, b) {\n    return Math.max(a, b);\n  }, 0);\n\n  headings.height(maxHeight);\n\n\n  // Blockquotes\n  // Since these blockquotes need to be display:inline for the quotation marks to function as designed, we can't add margin to it. This will wrap WordPress blockquotes in a container div to handle positioning and spacing.\n  // This whole logic can be removed once all content has been migrated to the block editor.\n  $('article blockquote').each( function() {\n    var blockquote = $( this );\n\n    // If this blockquote is a block or is contained in a block, don't apply this.\n    if (\n      blockquote.hasClass( 'wp-block-quote' ) ||\n      blockquote.closest( '.wp-block-pullquote' ).length > 0\n    ) {\n      return;\n    }\n\n    blockquote.wrap( \"<div class='blockquote-container'></div>\")\n  } );\n\n  // Photo credits hover effect\n  // Based on:\n  // http://cssglobe.com/lab/tooltip/02/\n  // http://cssglobe.com/lab/tooltip/02/main.js\n\n  function imagePreview() {\n\n    $( 'a.preview' ).hover( function() {\n      this.t     = this.title;\n      this.title = '';\n\n      var c = ( this.t != '' ) ? this.t : '',\n          b = document.createElement( 'br' ),\n          p = document.createElement( 'p' ),\n          i = document.createElement( 'img' );\n\n      p.setAttribute( 'id', 'preview' );\n      i.setAttribute( 'src', encodeURI( $(this).attr( 'data-src' ) ) );\n      i.setAttribute( 'alt', 'Image Preview' );\n\n      p.appendChild( i );\n\n      if ( c !== '' ) {\n\t\t  p.appendChild( b );\n\t\t  p.appendChild( document.createTextNode( c ) );\n      }\n\n      $(this).append( p );\n\n      $( '#preview' ).addClass( 'preview-visible' );\n    },\n    function() {\n      this.title = this.t;\n      $( '#preview' ).remove();\n    } );\n  };\n\n  imagePreview();\n\n\n\n  $('#dismiss-notification').click( function(){\n    $('.notification-bar').fadeOut(\"slow\", function(){\n    });\n  });\n\n  $('a.niceScroll').on('click', function(event){\n    event.preventDefault();\n    var TOP_MARGIN = 100;\n    $('html, body').animate({\n        scrollTop: $( $.attr(this, 'href') ).offset().top - TOP_MARGIN\n    }, 1000);\n  });\n\n  // Move blocks in the ungrid\n  if ( $('.ungrid').length > 0 ) {\n    var maxHeight = 235;\n    var h1Height = $('.ungrid h1').height();\n    var diffHeight = maxHeight - h1Height;\n    $('.ungrid-line').css( 'margin-top', ( -32 - diffHeight ) );\n\n    var contentHeight = $('.ungrid .content').height() - 80;\n    var ungridLineHeight = 224 + ( -32 - diffHeight );\n    var amountToReduce = 50 - ungridLineHeight;\n\n    if ( contentHeight > 200 ) {\n        amountToReduce += contentHeight - 200;\n    }\n\n    $('.ungrid-line').css( 'height', ( 224 + amountToReduce ) );\n\n    if ($(window).width() < 762) { // On mobile\n      var contentBottom = $('.content').position().top + $('.content').outerHeight();\n      var ungridTop = $('.ungrid-top-box').position().top;\n      var eyebrow = ( $('.header-content .h4.eyebrow').length > 0 ) ? 25 : 0;\n      $('#content').css('margin-top', contentBottom - ungridTop + 50 + eyebrow);\n    }\n  }\n\n  // Pinning nav on scrollTop\n  /* eslint-disable */\n  jQuery(window).on('scroll', function () {\n    if ( jQuery(this).scrollTop() > 0 ) {\n      jQuery('.top-nav').addClass('pinned');\n    } else {\n      jQuery('.top-nav').removeClass('pinned');\n    }\n  })\n  /* eslint-enable */\n\n});\n\n( function() {\n\t'use strict';\n\n\tvar reportNav = document.querySelector( '.report-nav' ),\n\t\tmobileToggle;\n\n\t// Visually match height of mobile toggle to the visible or top <li> item.\n\tfunction updateToggleHeight() {\n\t\tvar isOpen = reportNav.classList.contains( 'menu--expanded' ),\n\t\t\theightItemSelector = isOpen ? '.toc-link-item > a' : '.toc-link-item.active > a',\n\t\t\theightItem = reportNav.querySelector( heightItemSelector ),\n\t\t\tclientRect = heightItem && heightItem.getBoundingClientRect();\n\n\t\tif ( ! heightItem || ! mobileToggle || ! clientRect || ! clientRect.height ) {\n\t\t\treturn;\n\t\t}\n\n\t\tmobileToggle.setAttribute( 'style', 'height:' + Math.floor( clientRect.height ) + 'px' );\n\t}\n\n\tif ( ! reportNav ) {\n\t\treturn;\n\t}\n\n\tmobileToggle = reportNav.querySelector( '[data-menu-toggle]' );\n\tmobileToggle.addEventListener( 'click', function() {\n\t\treportNav.classList.toggle( 'menu--expanded' );\n\t\tupdateToggleHeight();\n\t} );\n\n\t// Ensure button starts off the right height.\n\tupdateToggleHeight();\n} )();\n\n(function($, root, undefined) {\n  $(function() {\n    var $toc, $links, headings;\n\n    $toc     = $('.toc');\n    if ( $toc.length > 1 ) {\n      $toc = $toc.last();\n    }\n    $links   = $toc.find('.toc-link');\n    headings = [];\n\n    // Stick the table of contents in its container\n    $toc.Stickyfill();\n\n    // Get a heading for each top-level link in the table of contents\n    $links.each(function() {\n      var $link, $heading;\n\n      $link    = $(this);\n      $heading = $($link.attr('href'));\n\n      headings.push( new Heading($heading, $link) );\n    });\n\n    // On scroll, see which heading is closest and highlight it\n    $(window).scroll(function() {\n      debounce(checkHeadingPosition(headings), 500);\n    });\n\n    // And make sure that the position is checked on page load.\n    checkHeadingPosition(headings)\n  });\n\n  // Loop through headings and see which one is in view\n  function checkHeadingPosition(headings) {\n    var scrollPosition = $(window).scrollTop();\n\n    $.each(headings, function(i) {\n      var heading = headings[i];\n\n      if( scrollPosition > heading.getPosition() - 200 ) {\n        resetHeadings(headings);\n        heading.markActive();\n      }\n    })\n  }\n\n  // Return all headings to inactive state\n  function resetHeadings(headings) {\n    $.each(headings, function(i) {\n      var heading = headings[i];\n\n      heading.$link.removeClass('-active');\n    });\n  }\n\n  // Heading object\n  function Heading($el, $link) {\n    this.$el = $el;\n    this.$link = $link;\n  }\n\n  Heading.prototype.getPosition = function() {\n    return this.$el.offset().top;\n  }\n\n  Heading.prototype.markActive = function() {\n    this.$link.addClass('-active');\n  }\n})(jQuery, this);\n\n/*jshint browser:true */\n/*!\n* FitVids 1.1\n*\n* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com\n* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/\n* Released under the WTFPL license - http://sam.zoy.org/wtfpl/\n*\n*/\n\n;(function( $ ){\n\n  'use strict';\n\n  $.fn.fitVids = function( options ) {\n    var settings = {\n      customSelector: null,\n      ignore: null\n    };\n\n    if ( options ) {\n      $.extend( settings, options );\n    }\n\n    return this.each(function(){\n      var selectors = [\n        'iframe[src*=\"player.vimeo.com\"]',\n        'iframe[src*=\"youtube.com\"]',\n        'iframe[src*=\"youtube-nocookie.com\"]',\n        'iframe[src*=\"kickstarter.com\"][src*=\"video.html\"]',\n        'object',\n        'embed'\n      ];\n\n      if (settings.customSelector) {\n        selectors.push(settings.customSelector);\n      }\n\n      var ignoreList = '.fitvidsignore';\n\n      if(settings.ignore) {\n        ignoreList = ignoreList + ', ' + settings.ignore;\n      }\n\n      var $allVideos = $(this).find(selectors.join(','));\n      $allVideos = $allVideos.not('object object'); // SwfObj conflict patch\n      $allVideos = $allVideos.not(ignoreList); // Disable FitVids on this video.\n\n      $allVideos.each(function(){\n        var $this = $(this);\n        if($this.parents(ignoreList).length > 0) {\n          return; // Disable FitVids on this video.\n        }\n        if (this.tagName.toLowerCase() === 'embed' && $this.parent('object').length || $this.parent('.fluid-width-video-wrapper').length) { return; }\n        if ((!$this.css('height') && !$this.css('width')) && (isNaN($this.attr('height')) || isNaN($this.attr('width'))))\n        {\n          $this.attr('height', 9);\n          $this.attr('width', 16);\n        }\n        var height = ( this.tagName.toLowerCase() === 'object' || ($this.attr('height') && !isNaN(parseInt($this.attr('height'), 10))) ) ? parseInt($this.attr('height'), 10) : $this.height(),\n            width = !isNaN(parseInt($this.attr('width'), 10)) ? parseInt($this.attr('width'), 10) : $this.width(),\n            aspectRatio = height / width;\n        if(!$this.attr('name')){\n          var videoName = 'fitvid' + $.fn.fitVids._count;\n          $this.attr('name', videoName);\n          $.fn.fitVids._count++;\n        }\n        $this.wrap('<div class=\"fluid-width-video-wrapper\"></div>').parent('.fluid-width-video-wrapper').css('padding-top', (aspectRatio * 100)+'%');\n        $this.removeAttr('height').removeAttr('width');\n      });\n    });\n  };\n\n  // Internal counter for unique video names.\n  $.fn.fitVids._count = 0;\n\n  // Wrap video (iframe) in parent div with .video-container class to activate fitVids.\n  $(\".video-container\").fitVids();\n\n})( window.jQuery );\n(function($) {\n\n\t'use strict';\n\n\t$( '#searchFilter' ).on( 'submit', function(e) {\n\t\te.preventDefault();\n\n\t\tvar selectedFilter = $( '#sortSelect :selected' ),\n\t\t\torder = $( selectedFilter ).val(),\n\t\t\torderby = $( selectedFilter ).data( 'type' ),keyword = $( '#keyword' ).val(),\n\t\t\tdata = {\n\t\t\t\ts: keyword,\n\t\t\t\torder: order,\n\t\t\t\torderby: orderby,\n\t\t\t};\n\n\t\tdata.post_type = $( '#searchFilter input:checkbox:checked' ).map( function() {\n\t\t\treturn $(this).val();\n\t\t}).get() || [];\n\n\t\tdoSearch( data );\n\t})\n\n\tfunction doSearch( formData ) {\n\t\tvar data = formData || {};\n\n\t\tupdateUri( formData );\n\n\t\tdata.action = 'ajax_search';\n\n\t\t$( '#search-results' ).css( { opacity: 0.5 } );\n\n\t\t$.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: shiro.ajax_url,\n\t\t\tdata: data,\n\t\t\tsuccess: function( result ) {\n\t\t\t\tvar resultData = result.data || {};\n\n\t\t\t\tif ( resultData.posts_html ) {\n\t\t\t\t\t$( '#search-results' ).empty().append( resultData.posts_html );\n\t\t\t\t}\n\n\t\t\t\tif ( resultData.pagination ) {\n\t\t\t\t\t$( '#pagination' ).empty().append( resultData.pagination );\n\t\t\t\t}\n\n\t\t\t\tif ( resultData.pagination === '' ) {\n\t\t\t\t\t$( '#pagination' ).empty();\n\t\t\t\t}\n\n\t\t\t\t$( '#search-results' ).css( { opacity: 1 } );\n\t\t\t},\n\n\t\t\terror: function() {\n\t\t\t\t$( '#search-results' ).empty();\n\t\t\t\t$( '#pagination' ).empty();\n\n\t\t\t\t$( '#search-results' ).css( { opacity: 1 } );\n\t\t\t}\n\t\t})\n\t}\n\n\tfunction updateUri( data ) {\n\t\tvar urlData = data || {},\n\t\t\turl = window.location,\n\t\t\tbaseurl = url.protocol + '//' + url.host + '/',\n\t\t\tparams = decodeURIComponent( $.param( urlData ) );\n\n\t\twindow.history.pushState( '', '', baseurl + '?' + params );\n\t}\n})(jQuery);"]}